<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á</title>

<style>
body{
  font-family:'Kanit',sans-serif;
  background:linear-gradient(135deg,#ffb6d5,#9ad9ff);
  margin:0;
  padding:20px;
}

/* ‡πÇ‡∏•‡πÇ‡∏Å‡πâ */
.school-logo{
  position:fixed;
  top:20px;
  left:20px;
  width:120px;
  z-index:2000;
}

/* layout ‡∏´‡∏•‡∏±‡∏Å */
.main-layout{
  display:flex;
  justify-content:center;
  gap:25px;
  margin-top:90px;
}

/* ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ 4 ‡πÄ‡∏ö‡∏≠‡∏£‡πå */
.candidate-container{
  display:grid;
  grid-template-columns:repeat(2,300px);
  gap:30px;
}

/* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ */
.candidate-card{
  background:#fff;
    top:-60px;
    left:50px;
  border-radius:18px;
  width:300px;
  height:300px;
  box-shadow:0 10px 24px rgba(0,0,0,.15);
  cursor:pointer;
  transition:.25s;
  position:relative;
  border:3px solid white;
  overflow:hidden; /* üî• ‡∏ï‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏ô */
}
.candidate-card:hover{
  transform:translateY(-5px);
  border-color:#007bff;
}

.candidate-no{
  position:absolute;
  top:10px;
  left:10px;
  background:#007bff;
  color:#fff;
  width:36px;
  height:36px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:17px;
  font-weight:bold;
  z-index:10;
}

/* ‡∏£‡∏π‡∏õ */
.candidate-card img,
.no-vote-card img{
  width:100%;
  object-fit:cover;
  display:block;
}

/* ‡∏£‡∏π‡∏õ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ */
.candidate-card img{
  height:245px;
}

/* ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• */
.candidate-info{
  padding:10px;
  text-align:center;
}
.candidate-info h2{
  margin:0;
  font-size:1.05rem;
}
.candidate-info p{
  margin-top:4px;
  color:#007bff;
  font-size:1.0rem;
}

/* ‡πÄ‡∏ö‡∏≠‡∏£‡πå 5 ‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏•‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô */
.no-vote-card{
  width:300px;
  height:320px;
    left:50px;
    top:-30px;
  background:linear-gradient(135deg,#ff4d4d,#b30000);
  color:white;
  border-radius:20px;
  box-shadow:0 12px 28px rgba(0,0,0,.25);
  cursor:pointer;
  transition:.25s;
  position:relative;
  margin-top: 160px;
  overflow:hidden; /* üî• ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç */
}
.no-vote-card:hover{
  transform:translateY(-5px);
}

.no-vote-card .candidate-no{
  background:white;
  color:#b30000;
}

/* ‡∏£‡∏π‡∏õ‡πÄ‡∏ö‡∏≠‡∏£‡πå 5 */
.no-vote-card img{
  height:240px;
}

.no-vote-card .candidate-info p{
  color:#ffecec;
}

/* ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏•‡πá‡∏≠‡∏Å */
#lock-screen{
  display:block;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.95);
  color:white;
  z-index:3000;
  text-align:center;
  padding-top:18vh;
}
</style>
</head>

<body>

<img src="6.png" class="school-logo">

<div id="lock-screen">
  <div style="font-size:80px">üîí</div>
  <h1>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏ö</h1>
</div>

<h1 style="text-align:center">üó≥Ô∏è ‡πÄ‡∏ä‡∏¥‡∏ç‡∏•‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏†‡∏≤‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</h1>
<p style="text-align:center">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</p>

<div class="main-layout">

  <!-- ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ 1‚Äì4 -->
  <div class="candidate-container">

    <div class="candidate-card" onclick="submitVote(1)">
      <img src="n1.jpg">
      <div class="candidate-info">
        <h2>‡πÄ‡∏ö‡∏≠‡∏£‡πå 1</h2>
        <p>‡∏û‡∏£‡∏£‡∏Ñ‡πÉ‡∏à‡∏°‡∏≤‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ô</p>
      </div>
    </div>

    <div class="candidate-card" onclick="submitVote(2)">
      <img src="n2.jpg">
      <div class="candidate-info">
        <h2>‡πÄ‡∏ö‡∏≠‡∏£‡πå 2</h2>
        <p>‡∏û‡∏£‡∏£‡∏Ñ‡πÉ‡∏à‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤(PJWTR)</p>
      </div>
    </div>

    <div class="candidate-card" onclick="submitVote(3)">
      <img src="n3.jpg">
      <div class="candidate-info">
        <h2>‡πÄ‡∏ö‡∏≠‡∏£‡πå 3</h2>
        <p>‡∏û‡∏£‡∏£‡∏Ñ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πâ‡∏≠‡∏á ‡∏û‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤</p>
      </div>
    </div>

    <div class="candidate-card" onclick="submitVote(4)">
      <img src="n4.jpg">
      <div class="candidate-info">
        <h2>‡πÄ‡∏ö‡∏≠‡∏£‡πå 4</h2>
        <p>‡∏û‡∏£‡∏£‡∏Ñ‡∏Å‡πâ‡∏≤‡∏ß‡∏™‡∏±‡πâ‡∏ô‡πÜ‡πÅ‡∏ï‡πà‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á(PKSM)</p>
      </div>
    </div>

  </div>

  <!-- ‡πÄ‡∏ö‡∏≠‡∏£‡πå 5 -->
  <div class="no-vote-card" onclick="submitVote(0)">
    <div class="candidate-no">‚ùå</div>
    <img src="UN.jpg">
    <div class="candidate-info">
      <h2>‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏•‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
      <p>‡∏á‡∏î‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á</p>
    </div>
  </div>

</div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbyeUfP18-a_KUJ7cw-DF53uP09622ExJijPMhh9D1gXFNE5AUV8-OvWMfqQ7PyvztnW/exec";

let canVote=false;
let hasVoted=false;
let votedThisRound=false;

setInterval(()=>{
  fetch(scriptURL)
    .then(r=>r.text())
    .then(status=>{
      status=status.trim();
      if(status==="OPEN" && !votedThisRound){
        canVote=true;
        hasVoted=false;
        document.getElementById('lock-screen').style.display="none";
      }
      if(status==="CLOSE"){
        canVote=false;
        votedThisRound=false;
        showLock("üîí ‡∏Ñ‡∏π‡∏´‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î","‡∏£‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà");
      }
    });
},1000);

function submitVote(n){
  if(!canVote || hasVoted) return;

  hasVoted=true;
  canVote=false;
  votedThisRound=true;

  showLock("‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡πâ‡∏ß","‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Ñ‡∏π‡∏´‡∏≤");

  fetch(scriptURL,{
    method:"POST",
    mode:"no-cors",
    headers:{'Content-Type':'application/x-www-form-urlencoded'},
    body:"candidate="+n
  });

  setTimeout(()=>{
    showLock("üîí ‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ","‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏Ñ‡∏£‡∏π‡∏Å‡∏î‡πÄ‡∏õ‡∏¥‡∏î");
  },3000);
}

function showLock(title,desc){
  const ls=document.getElementById('lock-screen');
  ls.style.display="block";
  ls.innerHTML=`
    <div style="font-size:80px">${title.startsWith("‚úÖ")?"‚úÖ":"üîí"}</div>
    <h1>${title}</h1>
    <p style="font-size:1.2rem">${desc}</p>
  `;
}
</script>

</body>
</html>
